!function r(e,t,a){function n(c,i){if(!t[c]){if(!e[c]){var u="function"==typeof require&&require;if(!i&&u)return u(c,!0);if(o)return o(c,!0);var s=new Error("Cannot find module '"+c+"'");throw s.code="MODULE_NOT_FOUND",s}var l=t[c]={exports:{}};e[c][0].call(l.exports,function(r){var t=e[c][1][r];return n(t||r)},l,l.exports,r,e,t,a)}return t[c].exports}for(var o="function"==typeof require&&require,c=0;c<a.length;c++)n(a[c]);return n}({1:[function(r,e,t){"use strict";!function(e){var t=r("localstorage-ttl"),a=ebanx_currency_converter_php_vars,n={BRL:{currencySymbol:"R$",decimalSeparator:",",thousandSeparator:"."},MXN:{currencySymbol:"$",decimalSeparator:",",thousandSeparator:"."},COP:{currencySymbol:"$",decimalSeparator:",",thousandSeparator:"."},CLP:{currencySymbol:"$",decimalSeparator:",",thousandSeparator:"."},PEN:{currencySymbol:"S\\.",decimalSeparator:",",thousandSeparator:"."},USD:{currencySymbol:"$",decimalSeparator:".",thousandSeparator:","},EUR:{currencySymbol:"â‚¬",decimalSeparator:".",thousandSeparator:","}},o=t.get("ebanx-currency-converter-last-currency"),c=!1;e(document).ready(function(){l(),!o||o===a.original_currency||i(),e(document.body).bind("show_variation updated_checkout updated_shipping_method added_to_cart cart_page_refreshed cart_widget_refreshed updated_addons wc_fragments_refreshed wc_fragments_loaded cart_totals_refreshed",function(){i()})});var i=function(){d();var r=e("span.amount");o!==a.original_currency?s().then(function(t){r.each(function(){if(!e(this).parent().hasClass("ebanx-amount-total")){var r=void 0;(r=e(this).data("price"))&&e(this).html(u(r,t))}})},function(r){o=a.original_currency}):r.each(function(){e(this).parent().hasClass("ebanx-amount-total")||e(this).html(e(this).attr("data-original"))})},u=function(r,e){"BRL"===e.current_currency&&(r*=1.0038);var t=Number(r*e.exchange_rate).formatMoney(2,n[e.current_currency].decimalSeparator,n[e.current_currency].thousandSeparator);return n[e.current_currency].currencySymbol+" "+t},s=function(){return new Promise(function(r,n){var c="ebanx-currency-converter-"+o;t.get(c)&&r(t.get(c)),e.ajax({url:a.ajaxurl,type:"GET",data:{action:"ebanx_currency_converter_get_exchange_rate",currency:o}}).done(function(e){"SUCCESS"!==(e=JSON.parse(e)).status&&n("error"),t.set(c,e,12e4),r(t.get(c))})})},l=function(){e(".ebanx-currency-converter--flag-link").each(function(){var r=this,a=e(this).data("currency");e(this).on("click",function(n){n.preventDefault(),e(".ebanx-currency-converter--flag-link").removeClass("active"),e(r).addClass("active"),t.set("ebanx-currency-converter-last-currency",a),o=t.get("ebanx-currency-converter-last-currency"),i()})})},d=function(){e("span.amount").each(function(){if(!e(this).parent().hasClass("ebanx-amount-total")){var r=e(this).attr("data-original");void 0!==r&&r||e(this).attr("data-original",e(this).html());var t=e(this).attr("data-price");void 0!==t&&t||(t=e(this).html(),e("<del></del>"+t).find("del").remove(),t=(t=(t=t.replace(a.thousand_separator,"")).replace(a.decimal_separator,".")).replace(/[^0-9.]/g,""),t=parseFloat(t),e(this).attr("data-price",t))}}),c=!0};Number.prototype.formatMoney=function(r,e,t){var a=this;r=isNaN(r=Math.abs(r))?2:r,e=void 0===e?".":e,t=void 0===t?",":t;var n=a<0?"-":"",o=String(parseInt(a=Math.abs(Number(a)||0).toFixed(r))),c=(c=o.length)>3?c%3:0;return n+(c?o.substr(0,c)+t:"")+o.substr(c).replace(/(\d{3})(?=\d)/g,"$1"+t)+(r?e+Math.abs(a-o).toFixed(r).slice(2):"")}}(jQuery)},{"localstorage-ttl":2}],2:[function(r,e,t){var a={set:function(r,e,t){var a={value:e,expires_at:(new Date).getTime()+t/1};localStorage.setItem(r.toString(),JSON.stringify(a))},get:function(r){var e=JSON.parse(localStorage.getItem(r.toString()));if(null!==e){if(!(null!==e.expires_at&&e.expires_at<(new Date).getTime()))return e.value;localStorage.removeItem(r.toString())}return null}};e.exports=a},{}]},{},[1]);