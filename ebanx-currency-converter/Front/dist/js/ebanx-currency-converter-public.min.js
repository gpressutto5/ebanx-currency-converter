!function e(r,t,a){function n(o,i){if(!t[o]){if(!r[o]){var u="function"==typeof require&&require;if(!i&&u)return u(o,!0);if(c)return c(o,!0);var s=new Error("Cannot find module '"+o+"'");throw s.code="MODULE_NOT_FOUND",s}var l=t[o]={exports:{}};r[o][0].call(l.exports,function(e){var t=r[o][1][e];return n(t||e)},l,l.exports,e,r,t,a)}return t[o].exports}for(var c="function"==typeof require&&require,o=0;o<a.length;o++)n(a[o]);return n}({1:[function(e,r,t){"use strict";!function(r){var t=e("localstorage-ttl"),a=ebanx_currency_converter_php_vars,n={BRL:{currencySymbol:"R$",decimalSeparator:",",thousandSeparator:"."},MXN:{currencySymbol:"$",decimalSeparator:",",thousandSeparator:"."},ARS:{currencySymbol:"$",decimalSeparator:",",thousandSeparator:"."},COP:{currencySymbol:"$",decimalSeparator:",",thousandSeparator:"."},CLP:{currencySymbol:"$",decimalSeparator:",",thousandSeparator:"."},PEN:{currencySymbol:"S\\.",decimalSeparator:",",thousandSeparator:"."},USD:{currencySymbol:"$",decimalSeparator:".",thousandSeparator:","},EUR:{currencySymbol:"â‚¬",decimalSeparator:".",thousandSeparator:","}},c=t.get("ebanx-currency-converter-last-currency"),o=!1;r(document).ready(function(){l(),c||(c=a.original_currency),!c===a.original_currency&&i(),r(".ebanx-currency-converter--flag-link").removeClass("active"),r(".ebanx-currency-converter--flag-link[data-currency='"+c+"']").addClass("active"),y(),v(),r(document.body).bind("show_variation updated_checkout updated_shipping_method added_to_cart cart_page_refreshed cart_widget_refreshed updated_addons wc_fragments_refreshed wc_fragments_loaded cart_totals_refreshed",function(){i()})});var i=function(){d();var e=r("span.amount");c!==a.original_currency?s().then(function(t){e.each(function(){if(!r(this).parent().hasClass("ebanx-amount-total")){var e=void 0;(e=r(this).data("price"))&&r(this).html(u(e,t))}})},function(e){c=a.original_currency}):e.each(function(){r(this).parent().hasClass("ebanx-amount-total")||r(this).html(r(this).attr("data-original"))})},u=function(e,r){"BRL"===r.current_currency&&(e*=1.0038);var t=Number(e*r.exchange_rate).formatMoney(2,n[r.current_currency].decimalSeparator,n[r.current_currency].thousandSeparator);return n[r.current_currency].currencySymbol+" "+t},s=function(){return new Promise(function(e,n){var o="ebanx-currency-converter-"+c;t.get(o)&&e(t.get(o)),r.ajax({url:a.ajaxurl,type:"GET",data:{action:"ebanx_currency_converter_get_exchange_rate",currency:c}}).done(function(r){"SUCCESS"!==(r=JSON.parse(r)).status&&n("error"),t.set(o,r,12e4),e(t.get(o))})})},l=function(){r(".ebanx-currency-converter--flag-link").each(function(){var e=this,a=r(this).data("currency");r(this).on("click",function(n){n.preventDefault(),r(".ebanx-currency-converter--flag-link").removeClass("active"),r(e).addClass("active"),v(),t.set("ebanx-currency-converter-last-currency",a),c=t.get("ebanx-currency-converter-last-currency"),i()})})},d=function(){r("span.amount").each(function(){if(!r(this).parent().hasClass("ebanx-amount-total")){var e=r(this).attr("data-original");void 0!==e&&e||r(this).attr("data-original",r(this).html());var t=r(this).attr("data-price");void 0!==t&&t||(t=r(this).html(),r("<del></del>"+t).find("del").remove(),t=(t=(t=t.replace(a.thousand_separator,"")).replace(a.decimal_separator,".")).replace(/[^0-9.]/g,""),t=parseFloat(t),r(this).attr("data-price",t))}}),o=!0},y=function(){var e=document.getElementById("ebanx-currency-converter--dropdown-button"),r=document.getElementById("ebanx-currency-converter--select-currency");e.addEventListener("click",function(){r.classList.toggle("ebanx-currency-converter--select-currency--active")}),document.addEventListener("click",function(){e.contains(event.target)||r.classList.remove("ebanx-currency-converter--select-currency--active")})},v=function(){var e=r("#ebanx-currency-converter--dropdown-button"),t=e.find(".ebanx-currency-converter--country-text"),a=r(".active .ebanx-currency-converter--country-text").text();t.text(a);var n=e.find(".ebanx-currency-converter--flag-image"),c=r(".active .ebanx-currency-converter--flag-image");n.replaceWith(c.clone())};Number.prototype.formatMoney=function(e,r,t){var a=this;e=isNaN(e=Math.abs(e))?2:e,r=void 0===r?".":r,t=void 0===t?",":t;var n=a<0?"-":"",c=String(parseInt(a=Math.abs(Number(a)||0).toFixed(e))),o=(o=c.length)>3?o%3:0;return n+(o?c.substr(0,o)+t:"")+c.substr(o).replace(/(\d{3})(?=\d)/g,"$1"+t)+(e?r+Math.abs(a-c).toFixed(e).slice(2):"")}}(jQuery)},{"localstorage-ttl":2}],2:[function(e,r,t){var a={set:function(e,r,t){var a={value:r,expires_at:(new Date).getTime()+t/1};localStorage.setItem(e.toString(),JSON.stringify(a))},get:function(e){var r=JSON.parse(localStorage.getItem(e.toString()));if(null!==r){if(!(null!==r.expires_at&&r.expires_at<(new Date).getTime()))return r.value;localStorage.removeItem(e.toString())}return null}};r.exports=a},{}]},{},[1]);